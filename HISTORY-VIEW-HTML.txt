            <!-- History View -->
            <div id="history-view" class="view">
                <!-- Filters -->
                <div class="glass" style="padding: 1.5rem; margin-bottom: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem; margin-bottom: 1rem;">
                        <h2 style="margin: 0; display: flex; align-items: center; gap: 0.5rem;">
                            <i class="fa-solid fa-clock-rotate-left" style="color: #10b981;"></i>
                            Storico Vendite
                        </h2>
                        <div style="display: flex; gap: 0.5rem; align-items: center;">
                            <span style="font-weight: 600; color: var(--text-secondary);">Totale:</span>
                            <span id="history-total-count" style="font-weight: 700; color: #10b981;">0</span>
                            <span style="color: var(--text-secondary);">vendite</span>
                            <span style="margin-left: 1rem; font-weight: 600; color: var(--text-secondary);">|</span>
                            <span id="history-total-amount" style="font-weight: 700; color: #10b981; margin-left: 0.5rem;">â‚¬0.00</span>
                        </div>
                    </div>

                    <!-- Filter Controls -->
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                        <!-- Platform Filter -->
                        <div>
                            <label style="display: block; margin-bottom: 0.5rem; color: var(--text-secondary); font-size: 0.9rem;">
                                <i class="fa-solid fa-layer-group"></i> Piattaforma
                            </label>
                            <select id="history-platform-filter" style="width: 100%; background: var(--bg-dark); border: 1px solid var(--border-color); color: var(--text-primary); padding: 0.5rem; border-radius: 8px;">
                                <option value="all">Tutte</option>
                                <option value="Cults3D">Cults3D</option>
                                <option value="Pixup">Pixup</option>
                                <option value="CGTrader">CGTrader</option>
                                <option value="3DExport">3DExport</option>
                            </select>
                        </div>

                        <!-- Period Filter -->
                        <div>
                            <label style="display: block; margin-bottom: 0.5rem; color: var(--text-secondary); font-size: 0.9rem;">
                                <i class="fa-solid fa-calendar"></i> Periodo
                            </label>
                            <select id="history-period-filter" style="width: 100%; background: var(--bg-dark); border: 1px solid var(--border-color); color: var(--text-primary); padding: 0.5rem; border-radius: 8px;">
                                <option value="all">Tutto</option>
                                <option value="today">Oggi</option>
                                <option value="yesterday">Ieri</option>
                                <option value="month">Questo Mese</option>
                                <option value="year">Quest'Anno</option>
                                <option value="custom">Personalizzato</option>
                            </select>
                        </div>

                        <!-- Search Filter -->
                        <div>
                            <label style="display: block; margin-bottom: 0.5rem; color: var(--text-secondary); font-size: 0.9rem;">
                                <i class="fa-solid fa-search"></i> Cerca Prodotto
                            </label>
                            <input type="text" id="history-search" placeholder="Nome prodotto..." style="width: 100%; background: var(--bg-dark); border: 1px solid var(--border-color); color: var(--text-primary); padding: 0.5rem; border-radius: 8px;">
                        </div>
                    </div>

                    <!-- Custom Date Range (Hidden by default) -->
                    <div id="history-custom-date" style="display: none; margin-top: 1rem; padding-top: 1rem; border-top: 1px solid var(--border-color);">
                        <div style="display: flex; gap: 1rem; align-items: end; flex-wrap: wrap;">
                            <div style="flex: 1; min-width: 150px;">
                                <label style="display: block; margin-bottom: 0.5rem; color: var(--text-secondary); font-size: 0.9rem;">Da:</label>
                                <input type="date" id="history-date-start" style="width: 100%; background: var(--bg-dark); border: 1px solid var(--border-color); color: var(--text-primary); padding: 0.5rem; border-radius: 8px;">
                            </div>
                            <div style="flex: 1; min-width: 150px;">
                                <label style="display: block; margin-bottom: 0.5rem; color: var(--text-secondary); font-size: 0.9rem;">A:</label>
                                <input type="date" id="history-date-end" style="width: 100%; background: var(--bg-dark); border: 1px solid var(--border-color); color: var(--text-primary); padding: 0.5rem; border-radius: 8px;">
                            </div>
                            <button id="history-apply-date" class="btn-success" style="padding: 0.5rem 1.5rem;">
                                <i class="fa-solid fa-check"></i> Applica
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Sales Table -->
                <div class="glass" style="padding: 1.5rem;">
                    <div class="history-table-container">
                        <table class="history-table">
                            <thead>
                                <tr>
                                    <th>Data</th>
                                    <th>Piattaforma</th>
                                    <th>Prodotto</th>
                                    <th style="text-align: right;">Importo</th>
                                </tr>
                            </thead>
                            <tbody id="history-table-body">
                                <!-- Populated by JS -->
                            </tbody>
                        </table>
                    </div>

                    <!-- Pagination -->
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px solid var(--border-color); flex-wrap: wrap; gap: 1rem;">
                        <div style="color: var(--text-secondary);">
                            <span id="history-page-info">Pagina 1</span>
                        </div>
                        <div style="display: flex; gap: 0.5rem;">
                            <button id="history-prev-btn" class="btn-secondary" style="padding: 0.5rem 1rem;">
                                <i class="fa-solid fa-chevron-left"></i> Precedente
                            </button>
                            <button id="history-next-btn" class="btn-secondary" style="padding: 0.5rem 1rem;">
                                Successiva <i class="fa-solid fa-chevron-right"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
